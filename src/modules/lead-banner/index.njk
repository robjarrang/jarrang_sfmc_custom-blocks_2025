{% set fields = {
    backgroundImage: { title: 'Background Image URL', type: 'Image URL', enabled: true },
    contentType: { title: 'Content Type', type: 'Simple text (selector)', enabled: true },
    verticalAlign: { title: 'Vertical Position', type: 'Simple text (selector)', enabled: true },
    textAlign: { title: 'Horizontal Position', type: 'Simple text (selector)', enabled: true },
    title: { title: 'Title', type: 'Rich Text', enabled: true },
    titleFontSize: { title: 'Title Font Size', type: 'Number', enabled: true },
    subtitle: { title: 'Subtitle', type: 'Rich Text', enabled: true },
    subtitleFontSize: { title: 'Subtitle Font Size', type: 'Number', enabled: true },
    titleImage: { title: 'Title Image URL', type: 'Image URL', enabled: true },
    titleImageAlt: { title: 'Title Image Alt Text', type: 'Simple text', enabled: true },
    titleImageWidth: { title: 'Title Image Width', type: 'Number', enabled: true },
    heroDesktopImage: { title: 'Desktop Hero Image URL', type: 'Image URL', enabled: true },
    heroMobileImage: { title: 'Mobile Hero Image URL', type: 'Image URL', enabled: true },
    heroAlt: { title: 'Hero Image Alt Text', type: 'Simple text', enabled: true },
    contentUrl: { title: 'Content Link URL', type: 'URL', enabled: true }
} %}
{% set module = { title: 'Lead Banner', fields: fields } %}
<!--
    UI FIELD MANIFEST: {{ module.title }}
    {% for key, field in fields %}
    - {{ key }} → {{ field.title }} ({{ field.type }}) [{% if field.enabled %}enabled{% else %}disabled{% endif %}]
    {% endfor %}
-->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>{{ module.title }} Block</title>
    {% include "../_shared/lead-banner-head.njk" %}
</head>
<body>
    <div class="loading-overlay" id="loadingOverlay"><div class="loading-spinner"></div></div>

    <div class="container" id="mainContainer">
        <h2 style="margin-top: 0; color: #333;">{{ module.title }}</h2>
        <div class="error-banner" id="errorBanner"></div>
        
        <div class="config-tools">
            <button id="copyConfigBtn" class="config-btn" title="Copy Configuration">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
            </button>
            <button id="pasteConfigBtn" class="config-btn" title="Paste Configuration">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/></svg>
            </button>
        </div>
        
        <div class="help-banner">
            <a href="https://example.com/image-overlay-tool" target="_blank" rel="noopener noreferrer">Click here to open the Image Overlay Tool →</a>
        </div>

        <div class="section-divider" style="margin-top:0; padding-top:0; border-top:none;">
            <div class="section-title">Banner Settings</div>
            <div class="field-group" id="backgroundImageGroup"><label for="backgroundImage" class="field-label">{{ module.fields.backgroundImage.title }}</label><input type="url" id="backgroundImage" class="field-input" placeholder="https://example.com/image.jpg"><div class="field-error" id="backgroundImageError">Please enter a valid image URL.</div></div>
        </div>

        <div class="section-divider">
            <div class="section-title">Content</div>
            <div class="field-group"><label class="field-label">{{ module.fields.contentType.title }}</label><div class="option-selector" id="contentTypeSelector"><div class="option-button selected" data-value="imageswap">Image Swap</div><div class="option-button" data-value="text">Text</div><div class="option-button" data-value="image">Image Title</div></div></div>
            <div class="field-group" id="verticalAlignGroup"><label class="field-label">{{ module.fields.verticalAlign.title }}</label><div class="option-selector" id="verticalAlignSelector"><div class="option-button" data-value="top">Top</div><div class="option-button selected" data-value="middle">Middle</div><div class="option-button" data-value="bottom">Bottom</div></div></div>
            <div class="field-group" id="textAlignGroup"><label class="field-label">{{ module.fields.textAlign.title }}</label><div class="option-selector" id="textAlignSelector"><div class="option-button" data-value="left"><svg width="24" height="24" viewBox="0 0 24 24"><path d="M4 19h16v-2H4v2zm0-4h10v-2H4v2zm0-4h16v-2H4v2zM4 5v2h10V5H4z"/></svg></div><div class="option-button selected" data-value="center"><svg width="24" height="24" viewBox="0 0 24 24"><path d="M4 19h16v-2H4v2zm4-4h8v-2H8v2zm-4-4h16v-2H4v2zm4-4h8V5H8v2z"/></svg></div><div class="option-button" data-value="right"><svg width="24" height="24" viewBox="0 0 24 24"><path d="M4 19h16v-2H4v2zm6-4h10v-2H10v2zM4 9h16V7H4v2zm6-4h10V3H10v2z"/></svg></div></div></div>
            <div class="section-divider" style="margin:20px 0; padding-top:15px;"></div>

            <div id="textContent">
                <div class="field-group"><label class="field-label">{{ module.fields.title.title }}</label><div id="titleEditor" class="quill-container limited-toolbar"></div><div class="field-group-inline"><label for="titleFontSize" class="field-label">{{ module.fields.titleFontSize.title }} (px)</label><input type="number" id="titleFontSize" class="field-input" min="20" max="60" step="4"></div></div>
                <div class="field-group"><label class="field-label">{{ module.fields.subtitle.title }}</label><div id="subtitleEditor" class="quill-container"></div><div class="field-group-inline"><label for="subtitleFontSize" class="field-label">{{ module.fields.subtitleFontSize.title }} (px)</label><input type="number" id="subtitleFontSize" class="field-input" min="12" max="32" step="4"></div></div>
            </div>

            <div id="imageContent" style="display: none;">
                <div class="field-group"><label for="titleImage" class="field-label">{{ module.fields.titleImage.title }}</label><input type="url" id="titleImage" class="field-input" placeholder="https://example.com/title-image.png"><div class="field-error" id="titleImageError">Please enter a valid image URL.</div></div>
                <div class="field-group"><label for="titleImageAlt" class="field-label">{{ module.fields.titleImageAlt.title }}</label><input type="text" id="titleImageAlt" class="field-input" placeholder="Descriptive text for the image" maxlength="100"></div>
                <div class="field-group-inline"><label for="titleImageWidth" class="field-label">{{ module.fields.titleImageWidth.title }} (px)</label><input type="number" id="titleImageWidth" class="field-input" min="100" max="500" step="10"></div>
            </div>

            <div id="imageSwapContent" style="display: none;">
                <div class="field-group"><label for="heroDesktopImage" class="field-label">{{ module.fields.heroDesktopImage.title }}</label><input type="url" id="heroDesktopImage" class="field-input" placeholder="https://example.com/desktop-hero.jpg"><div class="field-error" id="heroDesktopImageError">Please enter a valid image URL.</div></div>
                <div class="field-group"><label for="heroMobileImage" class="field-label">{{ module.fields.heroMobileImage.title }}</label><input type="url" id="heroMobileImage" class="field-input" placeholder="https://example.com/mobile-hero.jpg"><div class="field-error" id="heroMobileImageError">Please enter a valid image URL.</div></div>
                <div class="field-group"><label for="heroAlt" class="field-label">{{ module.fields.heroAlt.title }}</label><input type="text" id="heroAlt" class="field-input" placeholder="Descriptive text for the hero images" maxlength="100"></div>
            </div>

            <div class="field-group"><label for="contentUrl" class="field-label">{{ module.fields.contentUrl.title }}</label><input type="url" id="contentUrl" class="field-input" placeholder="https://example.com/"><div class="field-error" id="contentUrlError">Please enter a valid URL.</div></div>
        </div>
    </div>

    <div id="pasteModal" class="paste-modal">
        <div class="paste-modal-content">
            <div class="paste-modal-icon">
                <svg viewBox="0 0 24 24"><path d="M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"/></svg>
            </div>
            <h3 class="paste-modal-title">Ready to Paste</h3>
            <p class="paste-modal-instructions">Press <strong>Ctrl+V</strong> (or <strong>Cmd+V</strong> on Mac) to paste your copied block configuration.</p>
            <div class="paste-modal-hint" id="pasteModalHint">The block will automatically update with the pasted settings</div>
            <div class="paste-modal-footer">
                <button id="pasteModalCancel" class="paste-modal-btn secondary">Cancel</button>
            </div>
        </div>
    </div>
    <textarea id="pasteHiddenTextarea" class="paste-hidden-textarea"></textarea>

    {% include "../_shared/lead-banner-scripts.njk" %}

</body>
</html>
